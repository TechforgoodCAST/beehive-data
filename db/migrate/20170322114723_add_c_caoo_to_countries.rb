CC_AOO_MAP = {
  "AF" => 1,
  "AL" => 2,
  "DZ" => 3,
  "AD" => 5,
  "AO" => 6,
  "AG" => 9,
  "AR" => 10,
  "AM" => 11,
  "AU" => 13,
  "AT" => 14,
  "AZ" => 15,
  "BS" => 17,
  "BH" => 18,
  "BD" => 19,
  "BB" => 20,
  "BY" => 21,
  "BE" => 22,
  "BZ" => 23,
  "BJ" => 24,
  "BT" => 26,
  "BO" => 27,
  "BA" => 28,
  "BW" => 29,
  "BR" => 30,
  "BN" => 31,
  "BG" => 32,
  "BF" => 33,
  "BI" => 34,
  "KH" => 35,
  "CM" => 36,
  "CA" => 37,
  "CV" => 38,
  "CF" => 40,
  "TD" => 41,
  "CL" => 42,
  "CN" => 43,
  "CO" => 44,
  "KM" => 45,
  "CG" => 46,
  "CR" => 48,
  "HR" => 49,
  "CU" => 50,
  "CY" => 51,
  "CZ" => 52,
  "DK" => 53,
  "DJ" => 54,
  "DM" => 55,
  "DO" => 56,
  "EC" => 57,
  "EG" => 58,
  "SV" => 59,
  "GQ" => 60,
  "ER" => 61,
  "EE" => 62,
  "ET" => 63,
  "FJ" => 66,
  "FI" => 67,
  "FR" => 68,
  "GA" => 71,
  "GM" => 72,
  "GE" => 74,
  "DE" => 75,
  "GH" => 76,
  "GR" => 78,
  "GD" => 80,
  "GT" => 83,
  "GN" => 85,
  "GW" => 86,
  "GY" => 87,
  "HT" => 88,
  "HN" => 89,
  "HU" => 91,
  "IS" => 92,
  "IN" => 93,
  "ID" => 94,
  "IR" => 95,
  "IQ" => 96,
  "IL" => 97,
  "IT" => 98,
  "CI" => 99,
  "JM" => 100,
  "JP" => 101,
  "JO" => 103,
  "KZ" => 104,
  "KE" => 105,
  "KI" => 106,
  "KW" => 107,
  "KG" => 108,
  "LA" => 109,
  "LV" => 110,
  "LB" => 111,
  "LS" => 112,
  "LR" => 113,
  "LY" => 114,
  "LI" => 115,
  "LT" => 116,
  "LU" => 117,
  "MK" => 119,
  "MG" => 120,
  "MW" => 122,
  "MY" => 123,
  "MV" => 124,
  "ML" => 125,
  "MT" => 126,
  "MH" => 127,
  "MR" => 129,
  "MU" => 130,
  "MX" => 132,
  "FM" => 133,
  "MD" => 134,
  "MC" => 135,
  "MN" => 136,
  "MA" => 138,
  "MZ" => 139,
  "MM" => 140,
  "NA" => 141,
  "NR" => 142,
  "NP" => 143,
  "NL" => 144,
  "NZ" => 147,
  "NI" => 148,
  "NE" => 149,
  "NG" => 150,
  "KP" => 152,
  "NO" => 154,
  "OM" => 155,
  "PK" => 156,
  "PW" => 157,
  "PA" => 159,
  "PG" => 160,
  "PY" => 161,
  "PE" => 162,
  "PH" => 163,
  "PL" => 164,
  "PT" => 165,
  "QA" => 167,
  "IE" => 168,
  "RO" => 170,
  "RU" => 171,
  "RW" => 172,
  "KN" => 174,
  "LC" => 175,
  "VC" => 176,
  "WS" => 177,
  "SM" => 178,
  "ST" => 179,
  "SA" => 180,
  "SN" => 181,
  "SC" => 182,
  "SL" => 183,
  "SG" => 184,
  "SK" => 185,
  "SI" => 186,
  "SB" => 187,
  "SO" => 188,
  "ZA" => 189,
  "KR" => 190,
  "ES" => 191,
  "LK" => 192,
  "SD" => 193,
  "SR" => 194,
  "SZ" => 195,
  "SE" => 196,
  "CH" => 197,
  "SY" => 198,
  "TJ" => 200,
  "TZ" => 201,
  "TH" => 202,
  "TG" => 204,
  "TO" => 205,
  "TT" => 206,
  "TN" => 207,
  "TR" => 208,
  "TM" => 209,
  "TV" => 211,
  "UG" => 212,
  "UA" => 213,
  "AE" => 214,
  "US" => 216,
  "UY" => 217,
  "UZ" => 218,
  "VU" => 219,
  "VE" => 221,
  "VN" => 222,
  "YE" => 224,
  "RS" => 225,
  "CD" => 226,
  "ZM" => 227,
  "ZW" => 228,
  "ME" => 233,
  "AQ" => 236,
  "TL" => 237,
  "PS" => 238,
  "XK" => 239,
  "AX" => 240,
  "AS" => 241,
  "AI" => 242,
  "AW" => 243,
  "BM" => 244,
  "IO" => 245,
  "VG" => 246,
  "KY" => 247,
  "CX" => 248,
  "CP" => 249,
  "CC" => 250,
  "CK" => 251,
  "FK" => 253,
  "FO" => 254,
  "GF" => 255,
  "PF" => 256,
  "GI" => 257,
  "GL" => 258,
  "GP" => 259,
  "GU" => 260,
  "GG" => 261,
  "HK" => 262,
  "IM" => 263,
  "SJ" => 264,
  "JE" => 265,
  "MO" => 267,
  "MQ" => 268,
  "YT" => 269,
  "MS" => 270,
  "AN" => 271,
  "NC" => 272,
  "NU" => 273,
  "NF" => 274,
  "MP" => 275,
  "PN" => 276,
  "PR" => 277,
  "RE" => 278,
  "BL" => 280,
  "SH" => 281,
  "MF" => 282,
  "PM" => 283,
  "GS" => 284,
  "TW" => 286,
  "TK" => 287,
  "TC" => 288,
  "VI" => 289,
  "WF" => 290,
  "SS" => 293,
}

class AddCCaooToCountries < ActiveRecord::Migration
  def up
    add_column :countries, :ccaoo, :string

    say_with_time "Add charity Commission Country mapping" do
      Country.all.each do |country|
        country[:ccaoo] = CC_AOO_MAP[country[:alpha2]] || nil
        country.save!
      end
    end
  end

  def down
    remove_column :countries, :ccaoo, :string
  end
end
